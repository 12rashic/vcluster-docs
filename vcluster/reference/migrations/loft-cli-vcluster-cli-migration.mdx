---
title: Loft CLI to vCluster CLI Migration
sidebar_label: Loft CLI Migration
sidebar_position: 2
description: Overview of loft CLI commands that have been moved to vcluster CLI
---

This section will give an overview over the loft CLI commands that have moved to vcluster CLI.
Most commands should work exactly as before. Any commands that have been changed are documented in the "Comments" column.

## Global --config flag

Previously, **loft** CLI read its config file from `~/.loft/config.json` if nothing was specified under `--config`. **vcluster** CLI now assumes the config to be in `~/.vcluster/config.json` if nothing is specified under `--config`.
Futhermore, the config format in **vcluster** CLI changed in a way that the loft platform (now vCluster platform) related configuration goes into a special section under the key `platform`.
If you want you can convert your already existing loft configuration via the following (prerequisite beeing jq >= 1.7 installed):

```bash
CONFIG_PATH=/your/path/to/.loft/config.json

jq -n --rawfile loft_config $CONFIG_PATH '{platform: ($loft_config | fromjson)}' -c > /tmp/config.json

# Do this only if you want to use the new vcluster CLI default location
mkdir -p ~/.vcluster
CONFIG_PATH=~/.vcluster/config.json

mv /tmp/config.json $CONFIG_PATH
```

Now you can pass this path to `--config $CONFIG_PATH` or rely on **vcluster** CLI to use the default path `~/.vcluster/config.json`.

## Mapping of old loft CLI commands to vcluster CLI commands

### cluster commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft connect cluster`            | `vcluster platform add cluster`                 |                                                                                                                                                                                                                                                                                                               |
| `loft use cluster`                | `vcluster platform connect cluster`             |                                                                                                                                                                                                                                                                                                               |
| `loft list clusters`              | `vcluster platform list clusters`               |                                                                                                                                                                                                                                                                                                               |
| `loft vars cluster`               | `vcluster platform get current-cluster -o name` |                                                                                                                                                                                                                                                                                                               |

### vcluster commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft connect vcluster`           | `vcluster connect --manager=platform`           | Following flags have been **deprecated**:<br/>- `--kube-config`<br/>- `--kube-config-context-name`<br/>- `--update-current`<br/><br/>To obtain the kube config for the given virtual cluster issue the following:<br/>`vcluster connect myvcluster --print &amp;gt; /tmp/myvcluser-kube-config.yaml`                |
| `loft create vcluster`            | `vcluster create --manager=platform`            | Following flags have been **removed**:<br/>- `--delete-after`<br/>- `--disable-direct-cluster-endpoint`<br/>- `--sleep-after`<br/>- `--space` (vCluster platform handles this transparently in the background)<br/><br/>Following flags have been **changed**:<br/>- `--version` was renamed to `--template-version` |
| `loft delete vcluster`            | `vcluster delete --manager=platform`            | Following flags have been **removed**:<br/>- `--cluster` (vCluster platform handles this transparently in the background)<br/>- `--delete-space` (vCluster platform handles this transparently in the background)<br/>- `--space` (vCluster platform handles this transparently in the background)               |
| `loft list vclusters`             | `vcluster platform list vclusters`              | Alias:<br/>- `vcluster list --manager=platform`                                                                                                                                                                                                                                                                |
| `loft import vcluster`            | `vcluster platform import vcluster`             | Alias:<br/>- `vcluster import --manager=platform`                                                                                                                                                                                                                                                              |
| `loft share vcluster`             | `vcluster platform share vcluster`              |                                                                                                                                                                                                                                                                                                               |
| `loft wakeup vcluster`            | `vcluster platform wakeup vcluster`             | Aliases:<br/>- `vcluster resume --manager=platform`<br/>- `vcluster wakeup --manager=platform`                                                                                                                                                                                                                  |
| `loft sleep vcluster`             | `vcluster platform sleep vcluster`              | Aliases:<br/>- `vcluster pause --manager=platfrom`<br/>- `vcluster sleep --manager=platform`                                                                                                                                                                                                                    |
| `loft use vcluster`               | `vcluster platform connect vcluster`            |                                                                                                                                                                                                                                                                                                               |

### space commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft import space`               | `vcluster platform import space`                |                                                                                                                                                                                                                                                                                                               |
| `loft delete space`               | `vcluster platform delete space`                |                                                                                                                                                                                                                                                                                                               |
| `loft create space`               | `vcluster platform create space`                |                                                                                                                                                                                                                                                                                                               |
| `loft list spaces`                | `vcluster platform list spaces`                 |                                                                                                                                                                                                                                                                                                               |
| `loft share space`                | `vcluster platform share space`                 |                                                                                                                                                                                                                                                                                                               |
| `loft use space`                  | `vcluster platform connect space`               |                                                                                                                                                                                                                                                                                                               |
| `loft sleep space`                | `vcluster platform sleep space`                 |                                                                                                                                                                                                                                                                                                               |
| `loft wakeup space`               | `vcluster platform wakeup space`                |                                                                                                                                                                                                                                                                                                               |

### token, secret, password commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft get cluster-access-key`     | `vcluster platform get cluster-access-key`      |                                                                                                                                                                                                                                                                                                               |
| `loft get secret`                 | `vcluster platform get secret`                  |                                                                                                                                                                                                                                                                                                               |
| `loft set secret`                 | `vcluster platform set secret`                  |                                                                                                                                                                                                                                                                                                               |
| `loft list secrets`               | `vcluster platform list secrets`                |                                                                                                                                                                                                                                                                                                               |
| `loft reset password`             | `vcluster platform reset password`              |                                                                                                                                                                                                                                                                                                               |
| `loft token`                      | `vcluster platform access-key`                  |                                                                                                                                                                                                                                                                                                               |

### user and team commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft get user`                   | `vcluster platform get current-user`            |                                                                                                                                                                                                                                                                                                               |
| `loft vars username`              | `vcluster platform get current-user -o name`    |                                                                                                                                                                                                                                                                                                               |
| `loft list teams`                 | `vcluster platform list teams`                  |                                                                                                                                                                                                                                                                                                               |

### platform and management commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft start`                      | `vcluster platform start`                       |                                                                                                                                                                                                                                                                                                               |
| `loft use management`             | `vcluster platform connect management`          |                                                                                                                                                                                                                                                                                                               |

### misc commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft backup`                     | `vcluster platform backup`                      |                                                                                                                                                                                                                                                                                                               |
| `loft credits`                    | `vcluster credits`                              |                                                                                                                                                                                                                                                                                                               |

### deleted commands

| loft CLI                          | vcluster CLI                                    | Comments                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `loft defaults get`               | -                                               |                                                                                                                                                                                                                                                                                                               |
| `loft defaults set`               | -                                               |                                                                                                                                                                                                                                                                                                               |
| `loft defaults view`              | -                                               |                                                                                                                                                                                                                                                                                                               |
| `loft generate admin-kube-config` | -                                               |                                                                                                                                                                                                                                                                                                               |

