import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Flow, { Step } from "@site/src/components/Flow";
import InstallBetaCLIFragment from '@site/vcluster/_partials/deploy/install-beta-cli.mdx'


Deploy a vCluster instance called `my-vcluster` to namespace `team-x`. In this guide, we will use vCluster CLI, but there are multiple ways to deploy vCluster.

<Flow id="deploy-vcluster">
  <Step>
   Install the vCluster CLI.

   <InstallBetaCLIFragment/>
  </Step>
  <Step>
   **(Optional)** Create a `vcluster.yaml` to configure your vCluster. Various configuration options can be configured prior to deploying your vCluster, but even without a `vcluster.yaml`, the vCluster can be deployed with a default configuration. 

   Refer to the `vcluster.yaml` [reference docs](/vcluster/configure/vcluster-yaml/) to explore all configuration options.

   :::tip vcluster.yaml configuration
   If you aren't sure what options you want to configure, you can always upgrade your vCluster after deployment with an updated `vcluster.yaml` to change your configuration. There are some configuration options (e.g. backing store options) that can only be defined during deployment and not changed during upgrade. 
   :::

  </Step>
  <Step>
   Deploy vCluster.

   <Tabs
   groupId="cli-deploy"
   defaultValue="default"
   values={[
      { label: "Default (No vcluster.yaml)", value: "default" },
      { label: 'With vcluster.yaml', value: 'with-vcluster-yaml', },
   ]
   }>    
   <TabItem value="default">

   ```bash
   vcluster create my-vcluster --namespace team-x
   ```

   </TabItem>
   <TabItem value="with-vcluster-yaml">
   Include your `vcluster-yaml` config file.
   
   ```bash
   vcluster create my-vcluster --namespace team-x --values vcluster.yaml
   ```

   </TabItem>
   </Tabs>

   When the installation finishes, you are automatically connected to the virtual cluster and can run `kubectl` commands within the virtual cluster.

  </Step>
</Flow>