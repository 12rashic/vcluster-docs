---
title: Networking
sidebar_label: networking
description: Configure networking such as replicating and resolving services.
---

import Networking from '@site/docs/_partials/config/networking.mdx'

import ReplicateServices from '@site/docs/_partials/config/replicateServices.mdx'
import ResolveServiceHostname from '@site/docs/_partials/config/resolveServiceHostname.mdx'
import ResolveServices from '@site/docs/_partials/config/resolveServices.mdx'
import ResolveServiceService from '@site/docs/_partials/config/resolveServiceService.mdx'
import ResolveServiceTarget from '@site/docs/_partials/config/resolveServiceTarget.mdx'
import NetworkDNSFallback from '@site/docs/_partials/config/networkDNSFallback.mdx'


## Networking overview

<figure>
  <img src="/docs/media/diagrams/vcluster-networking.svg" alt="vCluster Networking" />
  <figcaption>vCluster - Networking</figcaption>
</figure>

By default, vCluster syncs resources such as `Service` and `Ingress` from the virtual cluster to the host cluster in order to enable correct network functionality for the virtual cluster.

<br/>
[comment]: # (X is &#10060;  check is &#9989;)


|                  |Open Source | Pro |
|:---------------- |:------------------:|:---------------:|
| Integrated CoreDNS   |    &#10060;         |     &#9989;    |
| Cross-vCluster DNS   |      &#10060;      |     &#9989;     |
| Replicate host services in the virtual cluster |  &#9989;  | &#10060;    |
| Resolve host services in the virtual cluster |  &#10060;  |   &#9989;  |

## Pod-To-Pod Traffic

Pods run inside the underlying host cluster. vCluster's [syncer component](/architecture/syncer.mdx) syncs Pods between host and virtual cluster. 
These synced Pods have cluster-internal IP addresses and can communicate with each other via IP-based networking.

## Pod-To-Service Traffic

vCluster also synchronizes Services (while stripping away unnecessary information from the resource) to allow Pods to communicate with services. 
However, instead of using the DNS names of the Services inside the host cluster, vCluster has its own DNS service which allows the virtual cluster Pods to use much more intuitive DNS mappings, just as in a regular cluster.

## Config reference

@TODO remove yaml snippet once generated include top-level

```yaml
networking:
  replicateServices:
    toHost:
      from: 
      to: 
    fromHost:
      from: 
      to: 
  resolveServices: # PRO feature
    service: 
    target:
      vcluster:
        service: 
      host:
        service: 
      external:
        hostname: 
  advanced:
    clusterDomain: 
    fallback:
    - ip: 
      hostCluster: true
    - ip: 
      hostCluster: false
    proxyKubelets:
      byHostname: true
      byIP: false
```

<Networking />