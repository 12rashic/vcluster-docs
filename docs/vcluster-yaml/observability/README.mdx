---
title: Observability
sidebar_label: observability
sidebar_position: 5
description: Configure your metrics provider.
---

import Observability from '@site/docs/_partials/config/observability.mdx'

You can monitor your virtual cluster either from the host cluster or directly from within the virtual cluster.

vCluster is able to rewrite node stats and metrics. This means monitoring a virtual cluster works similar to [monitoring a regular Kubernetes cluster](https://kubernetes.io/docs/tasks/debug/debug-cluster/resource-usage-monitoring/). 

By default, vCluster creates a service for each node that redirects incoming traffic from within the virtual cluster to the node kubelet to vCluster itself. This means that traffic reaches vCluster first if workloads within the virtual cluster try to scrape node metrics. vCluster redirects the incoming request to the host cluster and rewrites the response (pod names, pod namespaces etc) and returns it to the requester.

:::info
vCluster needs RBAC permissions to access host Node metrics from within the virtual cluster. You enable these permissions when you [enable real nodes synchronization](/architecture/nodes.mdx).
:::

## Monitoring

By default, vCluster creates a service for each node which redirects incoming traffic from within the vCluster to the node kubelet to vCluster itself. This means that if workloads within the vCluster try to scrape node metrics the traffic reaches vCluster first. Vcluster will redirect the incoming request to the host cluster and rewrite the response (pod names, pod namespaces etc) and return it to the requester.

vCluster exposes metrics endpoints on `https://0.0.0.0:8443/metrics` (syncer metrics) and `https://0.0.0.0:6444/metrics` (K3s metrics). In order to scrape those metrics, you need to send an `Authorization` header with a valid virtual cluster service account token that has permissions to access the `/metrics` endpoint within the vcluster.

### For workloads inside the virtual cluster


### For Each vCluster Control Plane


### For The vCluster Platform


## Config reference

<Observability />
