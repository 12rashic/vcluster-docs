---
title: Sync from Host to Virtual
sidebar_label: fromHost
sidebar_position: 2
description: Configuration for ...
---

import SyncFromHost from '@site/docs/_partials/config/syncFromHost.mdx'




@TODO how much of this is correct?

We use the top-level `import` field in the configuration to declare which host resources we want to sync to the virtual cluster. Each item in the `import` array defines the resource via `apiVersion` and `kind` strings. Each `apiVersion` and `kind` pair can have only one entry in the `import` array. The `patches` field allows you to define how are certain fields of the synced resource modified before its creation(or update) in the virtual cluster.
The `reversePatches` field allows you to declare how changes to certain fields of the synced resource(in this case, the one created in the virtual cluster) are propagated back to the original resource in the host cluster. Only the fields referenced in the `copyFromObject` reverse patch operations are propagated.



Example:
```yaml
sync:
  generic:
    config: |-
      version: v1beta1
      import:
        - kind: Secret
          apiVersion: v1
        - kind: IngressClass
          apiVersion: networking.k8s.io/v1
```

:::info
The sync from Host to Virtual cluster is supported only in "Multi-namespace mode".
:::

### Multi-namespace mode

By default, all namespaced resources that need to be synced to the host cluster are created in the namespace where vCluster is installed. In multi-namespace mode, however, vCluster creates a namespace in the host cluster for each namespace in the virtual cluster. The namespace name is modified to avoid conflicts between multiple vCluster instances in the same host, but the synced namespaced resources are created with the same name as in the virtual cluster. To enable this mode use the following helm value:

```yaml
multiNamespaceMode:
  enabled: true
```

:::warning This mode must be enabled during vCluster creation.
Enabling, or disabling, it on an existing vCluster instance force the virtual cluster into an inconsistent state.
:::

:::warning Alpha feature
Multi-namespace mode is currently in an alpha state. This is an advanced feature that requires more permissions in the host cluster, and as a result, it can potentially cause significant disruption in the host cluster.
:::

## Config Reference

<SyncFromHost/>