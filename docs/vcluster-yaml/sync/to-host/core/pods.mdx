---
title: Pods
sidebar_label: pods
sidebar_position: 1
description: Configuration for ...
---

import SyncPods from '@site/docs/_partials/config/sync/toHost/pods.mdx'

Mirrors Pods.

{/*
`pods.enabled`:
- covered by the generic section here: https://www.vcluster.com/docs/syncer/config#enable-or-disable-synced-resources

`pods.translateImage`:
- This seems to have existed from the beginning, and only referenced here: https://www.vcluster.com/docs/config-reference

`pods.enforceTolerations`:
- This was requested / implemented by a community member here: https://github.com/loft-sh/vcluster/issues/330
- tl;dr: this can be used to schedule vcluster pods to dedicated host nodes. Basically you can configure nodes with a "taint" and then make the vcluster pods "tolerate" the taint

`pods.useSecretsForSATokens`:
- Old documentation link: https://www.vcluster.com/docs/security/other-topics#secret-based-service-account-tokens

`pods.rewriteHosts`:
- I think this was previously the `--overide-hosts` option mentioned here: https://www.vcluster.com/docs/config-reference
- This seems to have existed from the beginning

*/}

### Automatically applying tolerations to all pods synced by vCluster 

Kubernetes has a concept of [Taints and Tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/), which is used for controlling scheduling. If you have a use case requiring all pods synced by vCluster to have a toleration set automatically, then you can achieve this with the `--enforce-toleration` syncer flag. You can pass multiple `--enforce-toleration` flags with different toleration expressions, and syncer will add them to every new pod that gets synced by vCluster.

This is how toleration is set in yaml format:
```
- key: "key1"
  operator: "Equal"
  value: "value1"
  effect: "NoSchedule"
```
We will need to write this information in a string format to pass it as value of the `--enforce-toleration` flag.

The example above would be represented as `key1=value1:NoSchedule`.
The Exists operator is written as - `key1:Effect`.
And if you need to write a toleration with empty effect, here is an example for that - `key1=value1`, or just `key` if value is also empty.
There is also a special case of a toleration that contains only operator Exists without effect or key, which would match every taint, and we express this as `*`.

You can set the `--enforce-toleration` flags as arguments for syncer in your `vcluster.yaml`:
```
syncer:
  extraArgs:
  - --enforce-toleration=key1=value1:NoSchedule
  - --enforce-toleration=anotherKey1=value2:NoSchedule
```

:::info
vCluster does not support setting the `tolerationSeconds` field of a toleration through the syntax that the `--enforce-toleration` flag uses. If your use case requires this, please raise an issue in [the vCluster repo on GitHub](https://github.com/loft-sh/vcluster/issues).
::: 


## Config reference

<SyncPods/>
