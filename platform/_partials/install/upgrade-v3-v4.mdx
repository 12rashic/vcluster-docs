import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

Upgrade vCluster Platform from v3 to v4 via:

<Tabs
  defaultValue="cli"
  values={[
    { label: 'CLI', value: 'cli', },
    { label: 'helm', value: 'helm', },
  ]
}>
<TabItem value="cli">

To upgrade vCluster Platform from v3 to v4 via vCluster CLI, run. Update `$PLATFORM_VERSION` with a valid vCluster Platform version.


```bash
# First set the project namespace prefix to use the v3 format
cat > /tmp/vcluster-platform.yaml <<EOF
config:
  projectNamespacePrefix: loft-p-
EOF

vcluster platform start --upgrade --version=$PLATFORM_VERSION --values=/tmp/vcluster-platform.yaml
```

</TabItem>
<TabItem value="helm">

To upgrade vCluster Platform from v3 to v4 via `helm`, run. Update `$PLATFORM_VERSION` with a valid vCluster Platform version.

```bash
# First set the project namespace prefix to use the v3 format
cat > /tmp/vcluster-platform.yaml <<EOF
config:
  projectNamespacePrefix: loft-p-
EOF

helm upgrade loft vcluster-platform -n vcluster-platform --repository-config '' --repo https://charts.loft.sh \
  --version $PLATFORM_VERSION \
  --reuse-values \
  -f /tmp/vcluster-platform.yaml 
```

</TabItem>
</Tabs>

